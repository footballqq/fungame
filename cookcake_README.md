# 烙饼小游戏 (CookCake)

## 项目简介

本项目是一个基于网页的模拟烙饼小游戏。玩家的目标是通过合理安排烙饼顺序和时间，用最短的游戏内时间将所有饼的两面都烙熟。
游戏灵感来源于一个经典的数学优化问题：

> 你有N张饼，每张饼的A面需要烙X分钟，B面需要烙Y分钟。你有一个锅，锅能同时烙M张饼。问最快多久可以把所有饼烙好？

本游戏默认配置为：5张饼，A面4分钟，B面3分钟，锅同时烙2张饼。玩家可以自定义这些参数。

## 功能模块

-   **游戏配置区 (Configuration Area)**:
    -   设置饼的数量 (1-10)。
    -   设置每张饼 A 面烙制所需时间 (分钟)。
    -   设置每张饼 B 面烙制所需时间 (分钟)。
    -   “开始游戏”/“重新开始”按钮。
-   **游戏状态区 (Game Status Area)**:
    -   显示已用时间 (模拟分钟数，实际为秒数)。
    -   “暂停”/“继续”按钮。
    -   “下一步 (手动)”按钮 (游戏暂停时可用，手动推进1分钟游戏时间)。
-   **游戏操作区 (Game Play Area)**:
    -   **未完成区**: 显示等待烙制或未完全烙熟的饼及其状态 (A/B面生熟情况及已烙时间)。
    -   **烙饼区 (锅)**: 最多同时容纳2张饼。显示正在烙制的饼和空位。
    -   **已完成区**: 显示两面都已烙熟的饼。
-   **操作说明区 (Instructions Area)**: 提供游戏基本玩法介绍。

## 技术栈

-   HTML5
-   CSS3
-   JavaScript (ES6+)

本项目为纯前端应用，无需后端服务。

## 如何运行

1.  确保你的电脑上有现代网页浏览器 (如 Chrome, Firefox, Edge)。
2.  将项目文件下载到本地。
3.  直接在浏览器中打开 `cookcake.html` 文件即可开始游戏。

## 游戏玩法

1.  **配置游戏**: 在“游戏配置”区设置饼的数量、A面烙制时间和B面烙制时间。
2.  **开始游戏**: 点击“开始游戏”按钮。计时器开始计时。
3.  **操作饼**:
    *   **从未完成区放入烙饼区**: 点击“未完成区”中的饼，会提示你选择烙A面还是B面。确认后，如果烙饼区有空位，饼会被放入。
    *   **操作烙饼区的饼**: 点击“烙饼区”中的饼，会提示你选择“翻面”或“移回未完成区”。
        *   翻面: 将饼的另一面朝下烙。如果另一面已熟，会提示。
        *   移回未完成区: 将饼放回未完成区，例如一面已熟，另一面暂时不想烙。
4.  **游戏进程**:
    *   游戏时间每过1分钟（现实时间1秒），正在烙饼区烙制的饼会自动更新其对应面的烙制进度。
    *   当饼的某一面烙制时间达到设定值，该面状态会更新为“熟”。
    *   当饼的两面都烙熟后，它会自动从烙饼区（或未完成区，如果中途取出）移动到“已完成区”。
5.  **暂停与继续**:
    *   点击“暂停”按钮可以暂停游戏和计时器。此时，你可以思考下一步操作。
    *   在暂停状态下，可以点击“下一步 (手动)”按钮，使游戏时间推进1分钟，并更新饼的状态。这允许你更细致地控制每一步。
    *   点击“继续”按钮可以恢复游戏。
6.  **游戏目标**: 尝试用最短的游戏内时间将所有配置的饼都烙熟。当所有饼都进入“已完成区”后，游戏结束，并显示总用时。

## 文件结构

-   `cookcake.html`: 游戏主页面结构。
-   `css/cookcake_style.css`: 游戏页面的样式文件。
-   `js/cookcake_game.js`: 游戏的核心逻辑实现。
-   `cookcake_README.md`: 本说明文件。

## 核心逻辑 (`js/cookcake_game.js`)

-   **状态管理**:
    -   每个饼 (`cake`) 是一个对象，包含ID、A/B面目标烙制时间、A/B面已烙时间、A/B面是否烙熟、是否完全烙熟、当前位置 (`pending`, `baking`, `completed`)、在烙饼区的槽位索引、当前正在烙哪一面等状态。
    -   `pan` 数组追踪烙饼区两个槽位的状态（是空还是哪个饼）。
-   **游戏初始化 (`initializeGame`)**: 根据用户配置创建饼对象数组，重置计时器和游戏状态。
-   **渲染逻辑 (`renderGame`, `createCakeElement`)**: 动态在HTML中创建和更新饼的显示，反映其当前状态和位置。
-   **玩家交互 (`handlePendingCakeClick`, `handleBakingCakeClick`, `moveCakeToPan`, `flipCakeInPan`, `moveCakeFromPanToPending`)**: 处理玩家对饼的点击操作，通过 `prompt` 获取玩家意图，并更新游戏状态。
-   **游戏循环 (`updateGame`)**:
    -   由 `setInterval` 每秒调用一次，模拟游戏时间的流逝。
    -   更新烙饼区中饼的已烙时间。
    -   检查是否有面烙熟或整个饼烙熟。
    -   自动将完全烙熟的饼移到“已完成区”。
    -   调用 `renderGame` 更新UI。
-   **游戏控制 (`startGame`, `stopGame`, `togglePauseResume`, `manualNextStep`)**: 控制游戏的开始、暂停、继续和手动单步执行。
-   **胜利条件 (`checkWinCondition`)**: 判断是否所有饼都已烙熟。

## 待办/未来可优化

-   **拖拽操作**: 实现从“未完成区”拖拽饼到“烙饼区”，以及在“烙饼区”内拖拽调整或拖回“未完成区”。
-   **UI/UX 改进**:
    -   更美观的饼和锅的视觉设计。
    -   增加操作的即时反馈和动画效果（如翻面动画）。
    -   优化提示信息，使用模态框替代原生 `prompt/alert`。
-   **策略提示**: 对于经典的烙饼问题，可以给出最优解法提示或对照。
-   **计时器显示**: 可以考虑显示为 `MM:SS` 格式，如果游戏时间较长。
-   **本地存储**: 保存用户的配置偏好或最佳用时记录。