# 球盒模型演示系统 (Balls into Boxes Demo System)

这是一个基于 Web 的交互式教学演示系统，旨在直观展示组合数学中经典的“n 个球放入 m 个盒子”的四种基本模型。

## 🚀 快速开始

### 运行环境
- Node.js (建议 v16+)
- 现代浏览器 (Chrome, Edge, Firefox 等)

### 启动步骤
1. 进入项目目录：
   ```powershell
   cd e:\users\kpan\BaiduSyncdisk\program\aigc\fungame\comb
   ```
2. 安装依赖：
   ```powershell
   npm install
   ```
3. 启动开发服务器：
   ```powershell
   npm run dev
   ```
4. 在浏览器中打开提示的本地链接（通常为 `http://localhost:5173/`）。

## � 发布与部署

如果您需要将系统部署到服务器或交付给他人，可以按以下步骤生成静态文件：

### 1. 构建项目
在项目根目录运行：
```powershell
npm run build
```
执行完成后，项目目录下会生成一个 `dist` 文件夹。本项目已配置 `vite.config.js` 中的 `base: './'`，构建产物支持**相对路径**，可部署在服务器的任何子目录下。

### 2. 本地预览与手机访问
由于浏览器安全策略，直接双击 `dist/index.html` 无法运行。建议使用静态服务器预览：
```powershell
# 在 local 127.0.0.1 预览
npx serve dist

# 指定端口并允许局域网（手机）访问
npx serve dist -l 8080
```
运行后，在手机浏览器访问显示的 `Network` 地址（如 `http://192.168.x.x:8080`）即可。

### 1. 切换模型 (Modes)
顶部的导航栏允许您在四种经典组合模型间切换：
- **相同球 相同盒 (ID/ID)**：对应整数分拆 (Integer Partitions)。
- **不同球 相同盒 (DS/ID)**：对应第二类斯特林数 (Stirling Numbers II)。
- **相同球 不同盒 (ID/DS)**：对应隔板法 (Stars and Bars)。
- **不同球 不同盒 (DS/DS)**：对应排列计数 ($m^n$)。

### 2. 交互式矩阵 (Matrix f(n, m))
- **选择参数**：您可以直接点击矩阵中的任意单元格来快速设置 $n$ (行) 和 $m$ (列) 的值。
- **查看递推关系**：点击某个单元格后，矩阵会自动以不同颜色高亮显示计算该结果所依赖的“前继项”。
  - *例如：在相同球不同盒模型中，点击 f(5, 3) 会高亮 f(5, 2) 和 f(4, 3)。*

### 3. 公式与切换 (Formulas)
- 系统右侧会展示当前模型的**递推公式**和**通项公式/组合意义**。
- **特别功能 (Case II)**：在“相同球相同盒”模式下，点击公式区域可以在两种不同的递推逻辑之间切换，矩阵的高亮显示也会随之改变。

### 4. 可视化演示 (Visual Demo)
- 下方卡片通过 Canvas 实时绘制球放入盒子的一个随机示例。
- **随机切换**：点击整个可视化卡片，可以随机生成该模型下的另一种分布情况。
- **视觉区分**：
  - **不同球**会拥有不同的颜色和数字编号。
  - **相同盒**模式下，为了表现“集合”的特性，球在盒子中的排列会按数量从大到小自动排序。

### 5. 双语支持 (Bilingual)
- 所有解说文字和操作提示均采用中英双语，方便理解专业术语。

## 🛠 技术实现
- **Vite**: 构建工具。
- **Canvas API**: 动态分布演示。
- **Glassmorphism CSS**: 现代化的半透明视觉设计。
- **Vanilla JS**: 无框架依赖的纯原生逻辑，确保极速加载。

---
*由 Antigravity AI 开发设计*
